{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "https://eodash.github.io/eodash-schemas/catalog/common-collection-defs.json",
    "title": "Common properties and definitions of the collection object",
    "format": "categories",
    "basicCategoryTitle": "General",
    "type": "object",
    "properties": {
        "Name": {
            "type": "string",
            "title": "Identifier",
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9_-]+$",
            "description": "Must be unique to other collections in the catalog. Letters, numbers, hyphens, underscores only."
        },
        "Title": {
            "type": "string",
            "minLength": 1,
            "description": "Title used to describe the collection"
        },
        "Description": {
            "type": "string",
            "format": "markdown",
            "description": "Description of the collection written as markdown"
        },
        "Themes": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "List of theme strings that represent the collection"
        },
        "Tags": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "List of tag strings that represent the collection"
        },
        "DataSource": {
            "$ref": "#/definitions/DataSource",
            "description": "defining sources of data"
        },
        "Agency": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "List of agency strings that represent the collection"
        },
        "License": {
            "anyOf": [
                {
                    "type": "string",
                    "description": "A string for the Collection's SPDX License identifier"
                },
                {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/License"
                    },
                    "description": "A list of custom License objects"
                }
            ],
            "description": "Either a string for the Collection's SPDX License identifier or if none apply a list of custom License objects"
        },
        "Provider": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/Provider"
            },
            "description": "List of <b>providers</b> of the collection"
        },
        "Stories": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/Story"
            },
            "description": "List of stories where the collection is used."
        },
        "Citation": {
            "$ref": "#/definitions/Citation",
            "description": "Citation object containing information on citation aspects of data"
        },
        "Image": {
            "type": "string",
            "description": "Relative path (which root is taken from the <b>assets_endpoint</b> configured for the catalog) to a preview image file"
        },
        "Services": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/Service"
            },
            "description": "List of Service objects provided by the collection (typically will only be one service)"
        },
        "References": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/Reference"
            },
            "description": "List of Reference objects that further describe the collection"
        },
        "CollectionGroup": {
            "type": "string",
            "description": "(Optional) identifier that can be used to group collections/indicators in eodash using the <b>collection_group</b> property for grouping in the configuration"
        },
        "Process": {
            "$ref": "#/definitions/Process",
            "description": "Configuration of the process of the collection"
        },
        "Subtitle": {
            "type": "string",
            "description": "Optional short description"
        },
        "ShortDescription": {
            "type": "string",
            "description": "Optional shorter description than description. Can not use markdown."
        },
        "BaseLayers": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/auxiliaryLayerDefinition"
            },
            "description": "Optional overwrite of default base layer definition list"
        },
        "OverlayLayers": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/auxiliaryLayerDefinition"
            },
            "description": "Optional overwrite of default overlay layer definition list"
        },
        "MapProjection": {
            "$ref": "#/definitions/MapProjection"
        },
        "Colorlegend": {
            "$ref": "#/definitions/Colorlegend"
        },
        "Legend": {
            "$ref": "#/definitions/Legend"
        }
    },
    "required": ["Name", "Title", "Description"],
    "definitions": {
        "Resources": {
            "type": "array",
            "maxItems": 1,
            "items": {
                "$ref": "#/definitions/Resource"
            },
            "description": "<b>Required</b>: List of <b>resources</b> (interfaces to data) provided by the collection (usually one entry)"
        },
        "Legend": {
            "type": "string",
            "description": "Relative path (which root is taken from the <b>assets_endpoint</b> configured for the catalog) to colormap legend image file"
        },
        "Subcollections": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/Subcollection"
            },
            "description": "List of Subcollections that are integrated into the defined collection. When used no <b> Resources </b> should be defined, thes Resources of the linked subcollections are used."
        },
        "Projection": {
            "anyOf": [
                {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string",
                            "description": "Name of the projection, e.g. \"EPSG\"4326"
                        },
                        "def": {
                            "type": "string",
                            "description": "Definition of the projection using proj4 format, e.g. \"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs\""
                        },
                        "extent": {
                            "type": "array",
                            "minItems": 4,
                            "maxItems": 4,
                            "description": "Bounding box of the projection in projected coordinates [minX, minY, maxX, maxY]"
                        }
                    },
                    "required": ["name"],
                    "description": "Full proj4js definition of projection with optional extent"
                },
                {
                    "type": "string",
                    "description": "String input in format EPSG:4326"
                },
                {
                    "type": "number",
                    "description": "Numerical input, such as 4326"
                }
            ]
        },
        "Attribution": {
            "type": "string",
            "description": "Text to be shown as attribution information for the layer, can include HTML elements",
            "media": {
                "type": "html"
            }
        },
        "Process": {
            "type": "object",
            "properties": {
                "Name": {
                    "type": "string",
                    "description": "Name of the process"
                },
                "JsonForm": {
                    "type": "string",
                    "description": "URL to the JSONform of the process"
                },
                "VegaDefinition": {
                    "type": "string",
                    "description": "URL to the Vega definition of the process"
                },
                "EndPoints": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "$ref": "#/definitions/ProcessEndpoint"
                    },
                    "description": "List of endpoints that are used in the process"
                }
            },
            "required": ["Name", "JsonForm", "EndPoints"]
        },
        "ProcessEndpoint": {
            "type": "object",
            "properties": {
                "Identifier": {
                    "type": "string",
                    "description": "Identifier of the endpoint"
                },
                "Url": {
                    "type": "string",
                    "description": "Processing endpoint"
                },
                "Type": {
                    "type": "string",
                    "enum": [
                        "application/geo+json",
                        "application/json",
                        "text/csv",
                        "image/png",
                        "image/tiff"
                    ],
                    "description": "MIME type of the returned data"
                },
                "EndPoint": {
                    "type": "string",
                    "description": "The type of custom endpoint e.g `eoxhub_workspaces`, `sentinelhub`, `veda` ..."
                },
                "Method": {
                    "type": "string",
                    "description": "HTTP method of the endpoint",
                    "enum": ["GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"]
                },
                "Body": {
                    "type": "string",
                    "description": "URL to the body of the endpoint"
                },
                "Flatstyle": {
                    "$ref": "#/definitions/Flatstyle",
                    "description": "Flatstyle definition for a process."
                }
            },
            "required": ["Identifier", "Url", "Type"]
        },
        "Dimensions": {
            "description": "key/value pairs of parameters to add to the WMS request",
            "type": "object",
            "additionalProperties": {
                "anyOf": [
                    {
                        "type": "string"
                    },
                    {
                        "type": "number"
                    }
                ]
            }
        },
        "XYZLayer": {
            "title": "XYZ layer",
            "allOf": [
                {
                    "$ref": "#/definitions/defaultLayerProperties"
                },
                {
                    "type": "object",
                    "properties": {
                        "protocol": {
                            "readOnly": true,
                            "type": "string",
                            "const": "xyz"
                        },
                        "media_type": {
                            "type": "string",
                            "description": "media type of resource, for example image/png"
                        }
                    },
                    "required": ["protocol"]
                }
            ]
        },
        "WMSLayer": {
            "title": "WMS Layer",
            "allOf": [
                {
                    "$ref": "#/definitions/defaultLayerProperties"
                },
                {
                    "type": "object",
                    "properties": {
                        "protocol": {
                            "readOnly": true,
                            "type": "string",
                            "const": "wms"
                        },
                        "layers": {
                            "description": "comma separated names of layers to fetch",
                            "type": "string"
                        },
                        "dimensions": {
                            "$ref": "#/definitions/Dimensions"
                        },
                        "version": {
                            "description": "WMS version",
                            "type": "string"
                        },
                        "styles": {
                            "description": "comma separated WMS styles",
                            "type": "string"
                        },
                        "tilesize": {
                            "description": "WMS Tile size to request",
                            "type": "number"
                        }
                    },
                    "required": ["protocol", "layers"]
                }
            ]
        },
        "WMTSLayer": {
            "title": "WMTS Layer",
            "allOf": [
                {
                    "$ref": "#/definitions/defaultLayerProperties"
                },
                {
                    "type": "object",
                    "properties": {
                        "protocol": {
                            "readOnly": true,
                            "type": "string",
                            "const": "wmts"
                        },
                        "layer": {
                            "description": "layer to fetch",
                            "type": "string"
                        },
                        "dimensions": { "$ref": "#/definitions/Dimensions" }
                    },
                    "required": ["protocol", "layer"]
                }
            ]
        },
        "VectorTileLayer": {
            "title": "Vector Tile Layer",
            "allOf": [
                {
                    "$ref": "#/definitions/defaultLayerProperties"
                },
                {
                    "type": "object",
                    "properties": {
                        "protocol": {
                            "readOnly": true,
                            "type": "string",
                            "const": "vector-tile"
                        },
                        "Style": {
                            "type": "string",
                            "description": "Url to style open layer flat style file used for rendering resource"
                        },
                        "idProperty": {
                            "type": "string",
                            "description": "Optional. Name of unique identifier of features for MVT format - see https://openlayers.org/en/latest/apidoc/module-ol_format_MVT-MVT.html"
                        },
                        "layers": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "description": "layer name from the vector tile to include"
                            },
                            "description": "Optional. Names of layers to read from vector tile in MVT format - see https://openlayers.org/en/latest/apidoc/module-ol_format_MVT-MVT.html"
                        }
                    },
                    "required": ["protocol"]
                }
            ]
        },
        "RawCOGLayer": {
            "title": "COG Layer",
            "allOf": [
                {
                    "$ref": "#/definitions/defaultLayerProperties"
                },
                {
                    "type": "object",
                    "properties": {
                        "protocol": {
                            "readOnly": true,
                            "type": "string",
                            "const": "COG source"
                        },
                        "Style": {
                            "type": "string",
                            "description": "Url to style open layer flat style file used for rendering resource"
                        }
                    },
                    "required": ["protocol"]
                }
            ]
        },
        "RawFlatGeobufLayer": {
            "title": "FlatGeobuf Layer",
            "allOf": [
                {
                    "$ref": "#/definitions/defaultLayerProperties"
                },
                {
                    "type": "object",
                    "properties": {
                        "protocol": {
                            "readOnly": true,
                            "type": "string",
                            "const": "FlatGeobuf source"
                        },
                        "Style": {
                            "type": "string",
                            "description": "Url to style open layer flat style file used for rendering resource"
                        }
                    },
                    "required": ["protocol"]
                }
            ]
        },
        "RawGeoJSONLayer": {
            "title": "GeoJSON Layer",
            "allOf": [
                {
                    "$ref": "#/definitions/defaultLayerProperties"
                },
                {
                    "properties": {
                        "protocol": {
                            "readOnly": true,
                            "type": "string",
                            "const": "GeoJSON source"
                        },
                        "Style": {
                            "type": "string",
                            "description": "Url to style open layer flat style file used for rendering resource"
                        }
                    },
                    "required": ["protocol"]
                }
            ]
        },
        "defaultLayerProperties": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Unique identifier of layer"
                },
                "name": {
                    "type": "string",
                    "description": "recommended: Descriptive name to be shown on user interface"
                },
                "url": {
                    "type": "string",
                    "description": "URL of service endpoint of data or URL to a data file"
                },
                "visible": {
                    "type": "boolean",
                    "description": "defaults to true: for baselayers only one should be set to true, rest to false"
                },
                "Attribution": {
                    "$ref": "#/definitions/Attribution"
                },
                "DataProjection": {
                    "$ref": "#/definitions/Projection",
                    "description": "Projection in which the data is stored"
                }
            },
            "required": ["id", "url"]
        },
        "Locations": {
            "anyOf": [
                {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Location"
                    },
                    "description": "List of <b>locations</b> of the collection"
                },
                {
                    "type": "boolean",
                    "description": "If set to 'true', the collection is handled as geodb locations with a chart and map"
                }
            ]
        },
        "auxiliaryLayerDefinition": {
            "anyOf": [
                { "$ref": "#/definitions/XYZLayer" },
                { "$ref": "#/definitions/WMSLayer" },
                { "$ref": "#/definitions/WMTSLayer" },
                { "$ref": "#/definitions/VectorTileLayer" },
                { "$ref": "#/definitions/RawCOGLayer" },
                { "$ref": "#/definitions/RawGeoJSONLayer" },
                { "$ref": "#/definitions/RawFlatGeobufLayer" }
            ]
        },
        "License": {
            "type": "object",
            "properties": {
                "Url": {
                    "type": "string",
                    "description": "**Required** Url to location where license text can be located"
                },
                "Type": {
                    "type": "string",
                    "default": "text/html",
                    "description": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\">  Media Type </a> string, defaults to text/html (for websites), other typical cases would be application/pdf for pdf documents"
                },
                "Title": {
                    "type": "string",
                    "description": "Descriptive title for the license"
                }
            },
            "required": ["Url"]
        },
        "Citation": {
            "type": "object",
            "properties": {
                "DOI": {
                    "type": "string",
                    "description": "The DOI of the data, e.g. 10.1000/xyz123. This MUST NOT be a DOIs link"
                },
                "Citation": {
                    "type": "string",
                    "description": "The recommended human-readable reference (citation) to be used by publications citing the data"
                },
                "Publication": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "DOI": {
                                "type": "string",
                                "description": "The DOI of a publication referencing the data. This MUST NOT be a DOIs link."
                            },
                            "Citation": {
                                "type": "string",
                                "description": "Citation of a publication referencing the data."
                            }
                        }
                    }
                }
            }
        },
        "Provider": {
            "type": "object",
            "properties": {
                "Name": {
                    "type": "string",
                    "description": "The name of the organization or the individual."
                },
                "Description": {
                    "type": "string",
                    "description": "Description of the provider. Markdown may be used for rich text representation."
                },
                "Roles": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Roles of the provider. Any of licensor, producer, processor or host"
                },
                "Url": {
                    "type": "string",
                    "description": "Homepage on which the provider describes the dataset and publishes contact information."
                }
            },
            "required": ["Name", "Url"]
        },
        "Story": {
            "type": "object",
            "properties": {
                "Name": {
                    "type": "string",
                    "description": "The title of the Story. If not provided, filename is used as a fallback."
                },
                "Url": {
                    "type": "string",
                    "description": "URL to the story. Can be provided as relative path (which root is taken from the stories_endpoint configured for the catalog) to a story markdown file or an absolute URL to either the rendered story or to the raw markdown."
                }
            },
            "required": ["Url"]
        },
        "Location": {
            "type": "object",
            "properties": {
                "Identifier": {
                    "type": "string"
                },
                "Name": {
                    "type": "string"
                },
                "Times": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "Country": {
                    "type": ["string", "array"],
                    "items": {
                        "type": "string"
                    }
                },
                "Point": {
                    "$ref": "#/definitions/Point"
                },
                "Bbox": {
                    "$ref": "#/definitions/Bbox"
                }
            }
        },
        "Subcollection": {
            "type": "object",
            "properties": {
                "Identifier": {
                    "type": "string"
                },
                "Name": {
                    "type": "string"
                },
                "Collection": {
                    "type": "string"
                },
                "Country": {
                    "type": ["string", "array"],
                    "items": {
                        "type": "string"
                    }
                },
                "Point": {
                    "$ref": "#/definitions/Point"
                },
                "Bbox": {
                    "$ref": "#/definitions/Bbox"
                }
            }
        },
        "MapProjection": {
            "$ref": "#/definitions/Projection",
            "description": "Projection in which the data is visualized, defaults to projection configured in eodash"
        },
        "Service": {
            "anyOf": [
                {
                    "$ref": "#/definitions/StatisticalAPIService"
                },
                {
                    "$ref": "#/definitions/EOxHubNotebookService"
                }
            ],
            "description": "Service provided by the collection"
        },
        "StatisticalAPIService": {
            "type": "object",
            "title": "Statistical API Service",
            "properties": {
                "Name": {
                    "type": "string",
                    "const": "Statistical API"
                },
                "Type": {
                    "type": "string",
                    "enum": ["byoc", "zarr"]
                },
                "CollectionId": {
                    "type": "string",
                    "description": "Identifier of the data collection of SH"
                },
                "Script": {
                    "type": "string",
                    "description": "Relative path (which root is taken from the <b>assets_endpoint</b> configured for the catalog) to a javascript evalscript"
                }
            },
            "required": ["Name", "Type", "CollectionId", "Script"]
        },
        "EOxHubNotebookService": {
            "type": "object",
            "title": "EOxHub Notebook Service",
            "properties": {
                "Name": {
                    "type": "string",
                    "const": "EOxHub Notebook"
                },
                "Title": {
                    "type": "string",
                    "description": "Descriptive title for the referenced algorithm"
                },
                "Url": {
                    "type": "string",
                    "description": "Url to notebook preview"
                }
            },
            "required": ["Name", "Title", "Url"]
        },
        "Reference": {
            "type": "object",
            "properties": {
                "Url": {
                    "type": "string"
                },
                "Name": {
                    "type": "string"
                }
            },
            "required": ["Url", "Name"]
        },
        "Colorlegend": {
            "type": "object",
            "properties": {
                "title": {
                    "type": "string",
                    "description": "Text added to legend as title"
                },
                "range": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of hex colors strings which will be interpolated or used for categories"
                },
                "domain": {
                    "type": "array",
                    "items": {
                        "anyOf": [
                            {
                                "type": "number"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "description": "List of domain entries, usually minimum and maximum value of domain, list of strings when using <b>categorical</b> <b>scaleType</b>"
                },
                "tickFormat": {
                    "type": "string",
                    "description": "Expression of how numbers should be formatted, e.g. \".0f\""
                },
                "tickValues": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "description": "List of numbers for which tick values should be shown"
                },
                "scaleType": {
                    "type": "string",
                    "enum": [
                        "continuous",
                        "discrete",
                        "threshold",
                        "categorical"
                    ],
                    "description": "Can be <b>continuous</b>, <b>discrete</b>, <b>threshold</b>, <b>categorical</b>"
                },
                "markType": {
                    "type": "string",
                    "enum": ["rect", "circle", "line"],
                    "description": "When using \"categorical\" type allows to define symbol to be used"
                }
            }
        },
        "DataSource": {
            "type": "object",
            "properties": {
                "Spaceborne": {
                    "$ref": "#/definitions/Spaceborne",
                    "description": "Information if the source is spaceborn."
                },
                "InSitu": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of in situ data sources."
                },
                "Other": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of other data sources that are not covered by spaceborn or in situ."
                }
            }
        },
        "Spaceborne": {
            "type": "object",
            "properties": {
                "Satellite": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of satellite identifiers that produced the data."
                },
                "Sensor": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of sensors (on the satellite) that produced the data."
                }
            }
        },
        "Bbox": {
            "anyOf": [
                {
                    "type": "array",
                    "format": "bounding-box"
                },
                {
                    "type": "array",
                    "minItems": 4,
                    "maxItems": 4,
                    "items": {
                        "type": "number"
                    }
                }
            ],
            "description": "Bounding box of the collection [minX, minY, maxX, maxY] based on the World Geodetic System (WGS84) format"
        },
        "Point": {
            "type": "array",
            "format": "point"
        },
        "DateTimeInterval": {
            "type": "object",
            "properties": {
                "Start": {
                    "type": "string",
                    "format": "datetime"
                },
                "End": {
                    "type": "string",
                    "format": "datetime"
                },
                "Timedelta": {
                    "type": "object",
                    "properties": {
                        "days": {
                            "type": "number"
                        },
                        "hours": {
                            "type": "number"
                        },
                        "minutes": {
                            "type": "number"
                        },
                        "seconds": {
                            "type": "number"
                        }
                    },
                    "description": "Time delta to be applied to the start and end date"
                }
            },
            "required": ["Start", "End"],
            "description": "Date time interval to be applied to the collection"
        },
        "defaultResourceParameters": {
            "type": "object",
            "properties": {
                "Attribution": {
                    "$ref": "#/definitions/Attribution"
                },
                "DataProjection": {
                    "$ref": "#/definitions/Projection",
                    "description": "Projection in which the data is stored"
                }
            }
        },
        "SentinelHubResource": {
            "title": "Sentinel Hub Resource",
            "allOf": [
                { "$ref": "#/definitions/defaultResourceParameters" },
                {
                    "type": "object",
                    "properties": {
                        "Name": {
                            "title": "Resource Identifier",
                            "readOnly": true,
                            "type": "string",
                            "const": "Sentinel Hub"
                        },
                        "EndPoint": {
                            "type": "string"
                        },
                        "Type": {
                            "type": "string",
                            "enum": ["byoc", "zarr"]
                        },
                        "CollectionId": {
                            "type": "string"
                        },
                        "LayerId": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "Name",
                        "EndPoint",
                        "Type",
                        "CollectionId",
                        "LayerId"
                    ]
                }
            ]
        },
        "SentinelHubWMSResource": {
            "title": "Sentinel Hub WMS Resource",
            "allOf": [
                { "$ref": "#/definitions/defaultResourceParameters" },
                {
                    "type": "object",
                    "properties": {
                        "Name": {
                            "title": "Resource Identifier",
                            "readOnly": true,
                            "type": "string",
                            "const": "Sentinel Hub WMS"
                        },
                        "EndPoint": {
                            "type": "string"
                        },
                        "CollectionId": {
                            "type": "string"
                        },
                        "LayerId": {
                            "type": "string"
                        },
                        "WMSIntervalsBetweenDates": {
                            "type": "boolean"
                        },
                        "DateTimeInterval": {
                            "$ref": "#/definitions/DateTimeInterval"
                        },
                        "Times": {
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "required": ["Name", "EndPoint", "LayerId"]
                }
            ]
        },
        "WMSResource": {
            "title": "WMS Resource",
            "allOf": [
                { "$ref": "#/definitions/defaultResourceParameters" },
                {
                    "type": "object",
                    "properties": {
                        "Name": {
                            "title": "Resource Identifier",
                            "readOnly": true,
                            "type": "string",
                            "const": "WMS"
                        },
                        "EndPoint": {
                            "type": "string"
                        },
                        "Type": {
                            "type": "string",
                            "enum": ["Time", "OverwriteTimes"]
                        },
                        "LayerId": {
                            "type": "string"
                        },
                        "Styles": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "MediaType": {
                            "type": "string"
                        },
                        "Version": {
                            "type": "string",
                            "enum": ["1.1.0", "1.1.1", "1.3.0"]
                        },
                        "WMSIntervalsBetweenDates": {
                            "type": "boolean"
                        },
                        "DateTimeInterval": {
                            "$ref": "#/definitions/DateTimeInterval"
                        },
                        "Times": {
                            "items": {
                                "type": "string"
                            }
                        },
                        "OverwriteBBox": {
                            "$ref": "#/definitions/Bbox"
                        },
                        "TileSize": {
                            "type": "number"
                        }
                    },
                    "required": ["Name", "EndPoint", "LayerId"]
                }
            ]
        },
        "VedaColormapName": {
            "type": "string",
            "enum": [
                "accent",
                "accent_r",
                "afmhot",
                "afmhot_r",
                "autumn",
                "autumn_r",
                "binary",
                "binary_r",
                "blues",
                "blues_r",
                "bone",
                "bone_r",
                "brbg",
                "brbg_r",
                "brg",
                "brg_r",
                "bugn",
                "bugn_r",
                "bupu",
                "bupu_r",
                "bwr",
                "bwr_r",
                "cfastie",
                "cividis",
                "cividis_r",
                "cmrmap",
                "cmrmap_r",
                "cool",
                "cool_r",
                "coolwarm",
                "coolwarm_r",
                "copper",
                "copper_r",
                "cubehelix",
                "cubehelix_r",
                "dark2",
                "dark2_r",
                "flag",
                "flag_r",
                "gist_earth",
                "gist_earth_r",
                "gist_gray",
                "gist_gray_r",
                "gist_heat",
                "gist_heat_r",
                "gist_ncar",
                "gist_ncar_r",
                "gist_rainbow",
                "gist_rainbow_r",
                "gist_stern",
                "gist_stern_r",
                "gist_yarg",
                "gist_yarg_r",
                "gnbu",
                "gnbu_r",
                "gnuplot",
                "gnuplot2",
                "gnuplot2_r",
                "gnuplot_r",
                "gray",
                "gray_r",
                "greens",
                "greens_r",
                "greys",
                "greys_r",
                "hot",
                "hot_r",
                "hsv",
                "hsv_r",
                "inferno",
                "inferno_r",
                "jet",
                "jet_r",
                "magma",
                "magma_r",
                "nipy_spectral",
                "nipy_spectral_r",
                "ocean",
                "ocean_r",
                "oranges",
                "oranges_r",
                "orrd",
                "orrd_r",
                "paired",
                "paired_r",
                "pastel1",
                "pastel1_r",
                "pastel2",
                "pastel2_r",
                "pink",
                "pink_r",
                "piyg",
                "piyg_r",
                "plasma",
                "plasma_r",
                "prgn",
                "prgn_r",
                "prism",
                "prism_r",
                "pubu",
                "pubu_r",
                "pubugn",
                "pubugn_r",
                "puor",
                "puor_r",
                "purd",
                "purd_r",
                "purples",
                "purples_r",
                "rainbow",
                "rainbow_r",
                "rdbu",
                "rdbu_r",
                "rdgy",
                "rdgy_r",
                "rdpu",
                "rdpu_r",
                "rdylbu",
                "rdylbu_r",
                "rdylgn",
                "rdylgn_r",
                "reds",
                "reds_r",
                "rplumbo",
                "schwarzwald",
                "seismic",
                "seismic_r",
                "set1",
                "set1_r",
                "set2",
                "set2_r",
                "set3",
                "set3_r",
                "spectral",
                "spectral_r",
                "spring",
                "spring_r",
                "summer",
                "summer_r",
                "tab10",
                "tab10_r",
                "tab20",
                "tab20_r",
                "tab20b",
                "tab20b_r",
                "tab20c",
                "tab20c_r",
                "terrain",
                "terrain_r",
                "twilight",
                "twilight_r",
                "twilight_shifted",
                "twilight_shifted_r",
                "viridis",
                "viridis_r",
                "winter",
                "winter_r",
                "wistia",
                "wistia_r",
                "ylgn",
                "ylgn_r",
                "ylgnbu",
                "ylgnbu_r",
                "ylorbr",
                "ylorbr_r",
                "ylorrd",
                "ylorrd_r"
            ]
        },
        "VEDAResource": {
            "title": "VEDA Resource",
            "allOf": [
                { "$ref": "#/definitions/defaultResourceParameters" },
                {
                    "type": "object",
                    "properties": {
                        "Name": {
                            "title": "Resource Identifier",
                            "readOnly": true,
                            "type": "string",
                            "const": "VEDA"
                        },
                        "EndPoint": {
                            "type": "string"
                        },
                        "Type": {
                            "type": "string",
                            "enum": ["cog", "tiles"],
                            "description": "'cog' type of integration requires configured 'bidx', 'tiles' requires configured 'Assets'"
                        },
                        "CollectionId": {
                            "type": "string"
                        },
                        "ColormapName": {
                            "$ref": "#/definitions/VedaColormapName"
                        },
                        "Rescale": {
                            "type": "array",
                            "items": {
                                "anyOf": [
                                    { "type": "number" },
                                    { "type": "string" }
                                ]
                            },
                            "minItems": 2,
                            "maxItems": 2
                        },
                        "Bidx": {
                            "type": "integer",
                            "default": 1
                        },
                        "Assets": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "ColorFormula": {
                            "type": "string"
                        },
                        "Nodata": {
                            "type": "number"
                        }
                    },
                    "required": ["Name", "EndPoint", "Type", "CollectionId"]
                }
            ]
        },
        "XCubeServerResource": {
            "title": "XCube Server Resource",
            "allOf": [
                { "$ref": "#/definitions/defaultResourceParameters" },
                {
                    "type": "object",
                    "properties": {
                        "Name": {
                            "title": "Resource Identifier",
                            "readOnly": true,
                            "type": "string",
                            "const": "xcube"
                        },
                        "EndPoint": {
                            "type": "string"
                        },
                        "Type": {
                            "type": "string",
                            "readOnly": true,
                            "const": "zarr"
                        },
                        "StacEndpoint": {
                            "type": "string"
                        },
                        "DatacubeId": {
                            "type": "string"
                        },
                        "Variable": {
                            "type": "string"
                        },
                        "ColormapName": {
                            "type": "string"
                        },
                        "Rescale": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            },
                            "minItems": 2,
                            "maxItems": 2
                        },
                        "Query": {
                            "type": "object",
                            "properties": {
                                "Start": {
                                    "type": "string",
                                    "format": "datetime"
                                },
                                "End": {
                                    "type": "string",
                                    "format": "datetime"
                                }
                            }
                        }
                    },
                    "required": [
                        "Name",
                        "EndPoint",
                        "Type",
                        "StacEndpoint",
                        "DatacubeId",
                        "Variable"
                    ]
                }
            ]
        },
        "CopernicusMarineDataStoreWMTSResource": {
            "title": "Copernicus Marine Data Store WMTS Resource",
            "allOf": [
                { "$ref": "#/definitions/defaultResourceParameters" },
                {
                    "type": "object",
                    "properties": {
                        "Name": {
                            "title": "Resource Identifier",
                            "readOnly": true,
                            "type": "string",
                            "const": "marinedatastore"
                        },
                        "EndPoint": {
                            "type": "string"
                        },
                        "Type": {
                            "type": "string",
                            "enum": ["WMTSCapabilities"]
                        },
                        "LayerId": {
                            "type": "string"
                        },
                        "Variable": {
                            "type": "string"
                        },
                        "Dimensions": {
                            "$ref": "#/definitions/Dimensions"
                        },
                        "Query": {
                            "type": "object",
                            "properties": {
                                "Start": {
                                    "type": "string",
                                    "format": "datetime"
                                },
                                "End": {
                                    "type": "string",
                                    "format": "datetime"
                                }
                            }
                        }
                    },
                    "required": [
                        "Name",
                        "EndPoint",
                        "Type",
                        "LayerId",
                        "Dimensions"
                    ]
                }
            ]
        },
        "RasdamanWCSResource": {
            "title": "Rasdaman WCS Resource",
            "allOf": [
                { "$ref": "#/definitions/defaultResourceParameters" },
                {
                    "type": "object",
                    "properties": {
                        "Name": {
                            "title": "Resource Identifier",
                            "readOnly": true,
                            "type": "string",
                            "const": "rasdaman"
                        },
                        "EndPoint": {
                            "type": "string"
                        },
                        "CoverageId": {
                            "type": "string"
                        }
                    },
                    "required": ["Name", "EndPoint", "CoverageId"]
                }
            ]
        },
        "defaultRawResourceParameters": {
            "type": "object",
            "properties": {
                "Style": {
                    "type": "string"
                },
                "Bbox": {
                    "$ref": "#/definitions/Bbox"
                },
                "ParquetSource": {
                    "type": "string"
                },
                "MergeAssets": {
                    "type": "boolean",
                    "description": "If assets of the same type are merged into one layer"
                },
                "TimeEntries": {
                    "$ref": "#/definitions/TimeEntries"
                }
            },
            "required": ["Style", "TimeEntries"]
        },
        "RawSourceResourceCOG": {
            "title": "Cloud Optimized Geotiff (COG) Source",
            "allOf": [
                { "$ref": "#/definitions/defaultResourceParameters" },
                { "$ref": "#/definitions/defaultRawResourceParameters" },
                {
                    "type": "object",
                    "properties": {
                        "Name": {
                            "title": "Resource Identifier",
                            "readOnly": true,
                            "type": "string",
                            "const": "COG source"
                        }
                    },
                    "required": ["Name"]
                }
            ]
        },
        "RawSourceResourceGeoJSON": {
            "title": "GeoJSON Source",
            "allOf": [
                { "$ref": "#/definitions/defaultResourceParameters" },
                { "$ref": "#/definitions/defaultRawResourceParameters" },
                {
                    "type": "object",
                    "properties": {
                        "Name": {
                            "title": "Resource Identifier",
                            "readOnly": true,
                            "type": "string",
                            "const": "GeoJSON source"
                        }
                    },
                    "required": ["Name"]
                }
            ]
        },
        "RawSourceResourceFlatGeobuf": {
            "title": "FlatGeobuf Source",
            "allOf": [
                { "$ref": "#/definitions/defaultResourceParameters" },
                { "$ref": "#/definitions/defaultRawResourceParameters" },
                {
                    "type": "object",
                    "properties": {
                        "Name": {
                            "title": "Resource Identifier",
                            "readOnly": true,
                            "type": "string",
                            "const": "FlatGeobuf source"
                        }
                    },
                    "required": ["Name"]
                }
            ]
        },
        "RawSourceResourceVectorTile": {
            "title": "Vector Tile Source",
            "allOf": [
                { "$ref": "#/definitions/defaultResourceParameters" },
                {
                    "type": "object",
                    "properties": {
                        "Name": {
                            "title": "Resource Identifier",
                            "readOnly": true,
                            "type": "string",
                            "const": "VectorTile source"
                        },
                        "Style": {
                            "type": "string",
                            "description": "URL to the EOxStyle definition"
                        },
                        "idProperty": {
                            "type": "string",
                            "description": "Optional. Name of unique identifier of features for MVT format - see https://openlayers.org/en/latest/apidoc/module-ol_format_MVT-MVT.html"
                        },
                        "layers": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "description": "layer name from the vector tile to include"
                            },
                            "description": "Optional. Names of layers to read from vector tile in MVT format - see https://openlayers.org/en/latest/apidoc/module-ol_format_MVT-MVT.html"
                        },
                        "Bbox": {
                            "$ref": "#/definitions/Bbox"
                        },
                        "TimeEntries": {
                            "$ref": "#/definitions/TimeEntriesVectorTile"
                        }
                    },
                    "required": ["Name", "TimeEntries"]
                }
            ]
        },
        "GeoDBResource": {
            "type": "object",
            "title": "GeoDB Resource",
            "properties": {
                "Name": {
                    "title": "Resource Identifier",
                    "readOnly": true,
                    "type": "string",
                    "const": "GeoDB"
                },
                "EndPoint": {
                    "type": "string",
                    "description": "GeoDB endpoint for the features"
                },
                "Database": {
                    "type": "string",
                    "description": "GeoDB database for the features"
                },
                "CollectionId": {
                    "type": "string",
                    "description": "GeoDB Collection for the features"
                },
                "MapTimesCollection": {
                    "type": "string",
                    "description": "optional GeoDB collection where times for items should be taken from"
                },
                "FeatureCollection": {
                    "type": "string",
                    "description": "GeoDB Collection for the features"
                },
                "Style": {
                    "type": "string",
                    "description": "URL to the EOxStyle definition"
                },
                "AdditionalQueryString": {
                    "type": "string",
                    "description": "additional query part of the url, added to the default eodash flavor of geodb collections"
                },
                "IdKey": {
                    "type": "string",
                    "description": "column name for optionally retrieving unique IDs for Items, default is city"
                },
                "InputData": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "Identifier": {
                                "type": "string",
                                "description": "Value matched against for input_data column from GeoDB table for each row"
                            },
                            "Url": {
                                "type": "string",
                                "description": "URL of the endpoint"
                            },
                            "Type": {
                                "type": "string",
                                "enum": ["XYZ", "WMS"]
                            },
                            "Layers": {
                                "type": "string",
                                "description": "WMS layer name"
                            },
                            "SiteMapping": {
                                "description": "key/value replacements for {site} placeholder in the XYZ URL matched with the aoi_id field from geodb, example NorthAdriaticTSM: spm_anomaly/anomaly-spm-nas",
                                "type": "object",
                                "additionalProperties": {
                                    "type": "string"
                                }
                            }
                        },
                        "required": ["Identifier", "Url", "Type"]
                    }
                }
            },
            "required": ["Name", "EndPoint", "Database", "CollectionId"]
        },
        "GeoDBFeaturesResource": {
            "type": "object",
            "title": "GeoDB Features Resource",
            "properties": {
                "Name": {
                    "title": "Resource Identifier",
                    "readOnly": true,
                    "type": "string",
                    "const": "GeoDB Features"
                },
                "EndPoint": {
                    "type": "string",
                    "description": "GeoDB endpoint for the features"
                },
                "Database": {
                    "type": "string",
                    "description": "GeoDB database for the features"
                },
                "TimeParameter": {
                    "type": "string",
                    "description": "GeoDB column name for the time parameter"
                },
                "CollectionId": {
                    "type": "string",
                    "description": "GeoDB Collection for the features"
                },
                "Query": {
                    "type": "string",
                    "description": "query part of the url, can contain {{date_time}} template for filling in the computed datetime"
                },
                "Aggregation": {
                    "type": "string",
                    "description": "If features are to be aggregated from original source by time unit.",
                    "enum": ["day", "hour", "month", "year"]
                },
                "Style": {
                    "type": "string",
                    "description": "URL to the EOxStyle definition"
                },
                "OverwriteBBox": {
                    "$ref": "#/definitions/Bbox"
                }
            },
            "required": [
                "Name",
                "EndPoint",
                "Database",
                "TimeParameter",
                "CollectionId",
                "Query"
            ]
        },
        "CollectionOnly": {
            "type": "object",
            "title": "GeoDB Features Resource",
            "properties": {
                "Name": {
                    "title": "Resource Identifier",
                    "readOnly": true,
                    "type": "string",
                    "const": "Collection-only"
                },
                "OverwriteBBox": {
                    "$ref": "#/definitions/Bbox"
                },
                "DateTimeInterval": {
                    "$ref": "#/definitions/DateTimeInterval"
                },
                "Times": {
                    "items": {
                        "type": "string"
                    }
                }
            },
            "required": [
                "Name"
            ]
        },
        "TimeEntriesVectorTile": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Time": {
                        "type": "string",
                        "format": "datetime"
                    },
                    "Url": {
                        "type": "string"
                    }
                },
                "required": ["Time", "Url"]
            }
        },
        "TimeEntries": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Time": {
                        "type": "string",
                        "format": "datetime"
                    },
                    "Assets": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "Identifier": {
                                    "type": "string"
                                },
                                "File": {
                                    "type": "string"
                                }
                            },
                            "required": ["Identifier", "File"]
                        }
                    }
                },
                "required": ["Time", "Assets"]
            }
        },
        "Flatstyle": {
            "anyOf": [
                {
                    "type": "string",
                    "description": "Single URL of the flatstyle applied to all resources of the process."
                },
                {
                    "type": "array",
                    "description": "Mappings of output type to flatstyle url",
                    "items": {
                        "type": "object",
                        "properties": {
                            "Identifier": {
                                "type": "string",
                                "description": "Identifier of output of the process to match with flatstyle."
                            },
                            "Url": {
                                "type": "string",
                                "description": "URL of the flatstyle."
                            }
                        },
                        "required": ["Identifier", "Url"]
                    }
                }
            ]
        },
        "Resource": {
            "anyOf": [
                { "$ref": "#/definitions/SentinelHubResource" },
                { "$ref": "#/definitions/SentinelHubWMSResource" },
                { "$ref": "#/definitions/WMSResource" },
                { "$ref": "#/definitions/VEDAResource" },
                { "$ref": "#/definitions/XCubeServerResource" },
                {
                    "$ref": "#/definitions/CopernicusMarineDataStoreWMTSResource"
                },
                { "$ref": "#/definitions/RawSourceResourceCOG" },
                { "$ref": "#/definitions/RawSourceResourceGeoJSON" },
                { "$ref": "#/definitions/RawSourceResourceFlatGeobuf" },
                { "$ref": "#/definitions/RawSourceResourceVectorTile" },
                { "$ref": "#/definitions/GeoDBResource" },
                { "$ref": "#/definitions/GeoDBFeaturesResource" },
                { "$ref": "#/definitions/RasdamanWCSResource" },
                {"$ref": "#/definitions/CollectionOnly" }
            ]
        }
    }
}
